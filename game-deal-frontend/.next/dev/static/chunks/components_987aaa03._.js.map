{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/%20aiCoding/MVP/game-deal-frontend/components/DealCard.tsx"],"sourcesContent":["// components/DealCard.tsx\n\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Deal } from \"../lib/api\";\nimport Image from \"next/image\";\n\ninterface DealCardProps {\n  deal: Deal;\n  className?: string;\n}\n\nexport default function DealCard({ deal, className = \"\" }: DealCardProps) {\n  // 1. Deal Type Logic\n  const isGamePass =\n    deal.deal_type === \"GamePass\" ||\n    deal.platform.includes(\"Xbox\") ||\n    deal.xboxMeta !== undefined;\n\n  // GamePass가 아닌 경우에만 무료 여부 판단\n  const isFree =\n    !isGamePass &&\n    (deal.deal_type === \"Free\" ||\n      deal.sale_price === 0 ||\n      deal.epicMeta?.is_free_to_keep === true);\n\n  // 2. Image State\n  const [imgSrc, setImgSrc] = useState(\n    deal.image_url || \"/images/default_thumbnail.png\"\n  );\n\n  useEffect(() => {\n    setImgSrc(deal.image_url || \"/images/default_thumbnail.png\");\n  }, [deal.image_url]);\n\n  const handleImageError = () => {\n    if (deal.platform.toLowerCase().includes(\"epic\")) {\n      setImgSrc(\"/images/epic_logo.jpg\");\n    } else if (isGamePass || deal.platform.toLowerCase().includes(\"xbox\")) {\n      setImgSrc(\"/images/gamepass_logo.jpg\");\n    } else {\n      setImgSrc(\"/images/default_thumbnail.png\");\n    }\n  };\n\n  // 3. Date Formatting (Ubisoft GMT -> KST +9h)\n  const getFormattedEndDate = () => {\n    if (!deal.end_date) return null;\n    let endDate = new Date(deal.end_date);\n    if (deal.platform.toLowerCase().includes(\"ubisoft\")) {\n      endDate = new Date(endDate.getTime() + 9 * 60 * 60 * 1000);\n    }\n    return endDate.toLocaleString(\"ko-KR\", {\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      hour12: false,\n    });\n  };\n\n  // --- Render Sections ---\n\n  // A. Render for FREE GAMES (New Design)\n  if (isFree) {\n    return (\n      <div\n        className={`block group bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-300 flex flex-col h-full ${className}`}\n      >\n        <a\n          href={deal.url}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"flex flex-col h-full\"\n        >\n          {/* Image Area with Free Keep Badge */}\n          <div className=\"relative w-full aspect-video bg-gray-200 overflow-hidden\">\n            <Image\n              src={imgSrc}\n              alt={deal.title}\n              fill\n              className=\"object-cover group-hover:scale-105 transition-transform duration-300\"\n              onError={handleImageError}\n              unoptimized\n            />\n            {/* Free Keep Badge (Top Left) */}\n            <div className=\"absolute top-2 left-2 bg-blue-600 text-white text-[10px] font-bold px-2 py-1 rounded shadow-sm z-10\">\n              Free Keep\n            </div>\n          </div>\n\n          {/* Content Area */}\n          <div className=\"p-3 flex flex-col flex-grow\">\n            <h3 className=\"text-sm font-bold text-gray-900 leading-tight line-clamp-2 mb-1 group-hover:text-blue-600 transition-colors\">\n              {deal.title}\n            </h3>\n\n            {/* End Date (Right Aligned) */}\n            {deal.end_date && (\n              <div className=\"flex justify-end mb-2\">\n                <p className=\"text-[11px] text-red-500 font-medium bg-red-50 px-1.5 py-0.5 rounded\">\n                  ~ {getFormattedEndDate()} 종료\n                </p>\n              </div>\n            )}\n\n            <div className=\"mt-auto\">\n              {/* Price Info (Larger Fonts) */}\n              <div className=\"flex flex-col items-start mb-3\">\n                {deal.regular_price > 0 && (\n                  <span className=\"text-sm text-gray-400 line-through\">\n                    ₩{deal.regular_price.toLocaleString()}\n                  </span>\n                )}\n                <span className=\"text-blue-600 font-bold text-xl\">무료</span>\n              </div>\n\n              {/* Button */}\n              <div className=\"w-full text-center bg-gray-100 group-hover:bg-gray-200 text-gray-800 text-xs font-bold py-2 rounded transition-colors\">\n                스토어 이동\n              </div>\n            </div>\n          </div>\n        </a>\n      </div>\n    );\n  }\n\n  // B. Render for XBOX / SUBSCRIPTION (Reverted / Previous Design Style)\n  if (isGamePass) {\n    return (\n      <div\n        className={`block group bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-300 flex flex-col h-full ${className}`}\n      >\n        <a\n          href={deal.url}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"flex flex-col h-full\"\n        >\n          {/* Image Area (No Badge Overlay except Day 1) */}\n          <div className=\"relative w-full aspect-video bg-gray-200 overflow-hidden\">\n            <Image\n              src={imgSrc}\n              alt={deal.title}\n              fill\n              className=\"object-cover group-hover:scale-105 transition-transform duration-300\"\n              onError={handleImageError}\n              unoptimized\n            />\n            {/* Day 1 Badge only */}\n            {deal.xboxMeta?.is_day_one && (\n              <div className=\"absolute top-2 right-2 bg-yellow-400 text-black text-[9px] font-bold px-1.5 py-0.5 rounded shadow-sm\">\n                Day 1\n              </div>\n            )}\n          </div>\n\n          {/* Content Area (Badges inside text area like original) */}\n          <div className=\"p-3 flex flex-col flex-grow\">\n            <h3 className=\"text-sm font-bold text-gray-900 leading-tight line-clamp-2 mb-2 group-hover:text-green-600 transition-colors\">\n              {deal.title}\n            </h3>\n\n            {/* Xbox Metadata / Tags */}\n            <div className=\"mt-auto\">\n              <div className=\"flex flex-wrap gap-1 mb-2\">\n                <span className=\"px-2 py-0.5 text-[10px] font-bold text-green-800 bg-green-100 rounded-full\">\n                  GAME PASS\n                </span>\n                <span className=\"px-2 py-0.5 text-[10px] font-bold text-gray-600 bg-gray-100 rounded-full uppercase\">\n                  {deal.platform.includes(\"Xbox\") ? \"Xbox\" : deal.platform}\n                </span>\n              </div>\n\n              <div className=\"mb-2\">\n                <span className=\"text-xs font-extrabold text-green-700 uppercase block\">\n                  {deal.xboxMeta?.game_pass_tier.replace(/,/g, \" · \") ||\n                    \"SUBSCRIPTION\"}\n                </span>\n              </div>\n\n              <div className=\"w-full text-center bg-green-50 group-hover:bg-green-100 text-green-800 text-xs font-bold py-1.5 rounded transition-colors\">\n                플레이 하기\n              </div>\n            </div>\n          </div>\n        </a>\n      </div>\n    );\n  }\n\n  // C. Render for STANDARD SALES (Default/Original Style)\n  return (\n    <div\n      className={`block group bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-300 flex flex-col h-full ${className}`}\n    >\n      <a\n        href={deal.url}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"flex flex-col h-full\"\n      >\n        <div className=\"relative w-full aspect-video bg-gray-200 overflow-hidden\">\n          <Image\n            src={imgSrc}\n            alt={deal.title}\n            fill\n            className=\"object-cover group-hover:scale-105 transition-transform duration-300\"\n            onError={handleImageError}\n            unoptimized\n          />\n          {/* Discount Badge */}\n          {deal.discount_rate > 0 && (\n            <div className=\"absolute bottom-2 right-2 bg-red-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded shadow-sm\">\n              -{deal.discount_rate}%\n            </div>\n          )}\n        </div>\n\n        <div className=\"p-3 flex flex-col flex-grow\">\n          <div className=\"flex justify-between items-start mb-1\">\n            <span className=\"px-2 py-0.5 text-[9px] font-bold rounded bg-gray-100 text-gray-600\">\n              {deal.platform}\n            </span>\n          </div>\n\n          <h3 className=\"text-sm font-bold text-gray-900 leading-tight line-clamp-2 mb-1 h-10 group-hover:text-blue-600 transition-colors\">\n            {deal.title}\n          </h3>\n\n          <div className=\"mt-auto\">\n            <div className=\"flex flex-col items-start mb-2\">\n              {deal.regular_price > deal.sale_price && (\n                <span className=\"text-[10px] text-gray-400 line-through\">\n                  ₩{deal.regular_price.toLocaleString()}\n                </span>\n              )}\n              <span className=\"text-blue-600 font-bold text-sm\">\n                ₩{deal.sale_price.toLocaleString()}\n              </span>\n            </div>\n\n            <div className=\"w-full text-center bg-gray-100 group-hover:bg-gray-200 text-gray-800 text-xs font-bold py-1.5 rounded transition-colors\">\n              스토어 이동\n            </div>\n          </div>\n        </div>\n      </a>\n    </div>\n  );\n}\n"],"names":["c","_c","useState","useEffect","Deal","Image","DealCardProps","deal","className","DealCard","t0","$","$i","Symbol","for","t1","undefined","t2","deal_type","platform","xboxMeta","includes","isGamePass","isFree","sale_price","epicMeta","is_free_to_keep","imgSrc","setImgSrc","image_url","t3","t4","DealCard[useEffect()]","t5","DealCard[handleImageError]","toLowerCase","handleImageError","t6","end_date","DealCard[getFormattedEndDate]","endDate","Date","getTime","toLocaleString","month","day","hour","minute","hour12","getFormattedEndDate","t7","t8","title","t9","t10","t11","t12","t13","regular_price","t14","t15","t16","t17","t18","t19","url","t20","is_day_one","game_pass_tier","replace","t21","discount_rate","t22"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 855, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/%20aiCoding/MVP/game-deal-frontend/components/DealsPage.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useMemo } from \"react\";\nimport Image from \"next/image\";\nimport axios from \"axios\";\nimport DealCard from \"./DealCard\"; // Import unified component\n\n// --- 1. 타입 정의 ---\n// (Keep interface as is, ensure export if needed or duplicate)\ninterface Deal {\n  id: number;\n  platform: string;\n  title: string;\n  url: string;\n  regular_price: number;\n  sale_price: number;\n  discount_rate: number;\n  deal_type: \"GamePass\" | \"Epic\" | \"Sale\" | \"Free\";\n  image_url?: string;\n  xboxMeta?: { game_pass_tier: string; is_day_one: boolean };\n  epicMeta?: { is_free_to_keep: boolean };\n  end_date?: string | null; // Ensure end_date\n}\n\ninterface DealsPageProps {\n  title: string;\n  category: \"free\" | \"sale\" | \"sub\";\n}\n\nexport default function DealsPage({ title, category }: DealsPageProps) {\n  const [deals, setDeals] = useState<Deal[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [sortOrder, setSortOrder] = useState<\"az\" | \"newest\">(\"az\");\n\n  // --- 2. 데이터 로드 ---\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        const [xboxRes, epicRes] = await Promise.allSettled([\n          axios.get(\"http://localhost:4000/api/v1/deals\", {\n            params: { platform: \"Xbox\", limit: 3000 },\n          }),\n          axios.get(\"http://localhost:4000/api/v1/deals\", {\n            params: { platform: \"Epic\", limit: 3000 },\n          }),\n        ]);\n\n        const xboxData =\n          xboxRes.status === \"fulfilled\" ? xboxRes.value.data.data : [];\n        const epicData =\n          epicRes.status === \"fulfilled\" ? epicRes.value.data.data : [];\n        const allDeals: Deal[] = [...xboxData, ...epicData];\n\n        let targetDeals: Deal[] = [];\n        if (category === \"free\") {\n          targetDeals = allDeals.filter(\n            (d) =>\n              d.deal_type !== \"GamePass\" &&\n              (d.sale_price === 0 || d.epicMeta?.is_free_to_keep)\n          );\n        } else if (category === \"sale\") {\n          targetDeals = allDeals.filter(\n            (d) =>\n              d.deal_type !== \"GamePass\" &&\n              d.regular_price > d.sale_price &&\n              d.sale_price > 0\n          );\n        } else if (category === \"sub\") {\n          targetDeals = allDeals.filter(\n            (d) => d.deal_type === \"GamePass\" || d.platform.includes(\"Xbox\")\n          );\n        }\n\n        setDeals(targetDeals);\n      } catch (error) {\n        console.error(\"데이터 로드 실패\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [category]);\n\n  // --- 3. 검색 및 정렬 ---\n  const filteredDeals = useMemo(() => {\n    let result = deals.filter((deal) =>\n      deal.title.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n    if (sortOrder === \"az\") {\n      result.sort((a, b) => {\n        const titleA = a.title;\n        const titleB = b.title;\n        const isKoA = /[가-힣]/.test(titleA.charAt(0));\n        const isKoB = /[가-힣]/.test(titleB.charAt(0));\n\n        if (isKoA === isKoB) {\n          return titleA.localeCompare(titleB, \"ko-KR\", { numeric: true });\n        }\n        return isKoA ? -1 : 1;\n      });\n    }\n    return result;\n  }, [deals, searchTerm, sortOrder]);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <main className=\"max-w-7xl mx-auto px-4 md:px-8 py-8\">\n        {/* --- 상단 컨트롤러 --- */}\n        <div className=\"flex flex-col md:flex-row justify-between items-end mb-8 gap-4\">\n          <div>\n            <h1 className=\"text-3xl font-extrabold text-gray-900 mb-2\">\n              {title}\n            </h1>\n            <p className=\"text-gray-500 text-sm\">\n              총{\" \"}\n              <span className=\"font-bold text-gray-900\">\n                {filteredDeals.length}\n              </span>\n              개의 게임을 찾았습니다.\n            </p>\n          </div>\n\n          <div className=\"flex flex-col sm:flex-row gap-3 w-full md:w-auto\">\n            <input\n              type=\"text\"\n              placeholder=\"게임 제목 검색...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"flex-1 md:w-64 px-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-900 outline-none transition-shadow\"\n            />\n            <select\n              value={sortOrder}\n              onChange={(e: any) => setSortOrder(e.target.value)}\n              className=\"px-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-900 outline-none bg-white cursor-pointer\"\n            >\n              <option value=\"az\">가나다순 (A-Z)</option>\n            </select>\n          </div>\n        </div>\n\n        {/* --- 메인 그리드 영역 --- */}\n        {loading ? (\n          <div className=\"flex justify-center py-32\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900\"></div>\n          </div>\n        ) : filteredDeals.length === 0 ? (\n          <div className=\"text-center py-32 border-2 border-dashed border-gray-200 rounded-xl bg-gray-50\">\n            <p className=\"text-gray-500\">조건에 맞는 게임이 없습니다.</p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-x-5 gap-y-8\">\n            {filteredDeals.map((deal) => (\n              <div key={deal.id} className=\"w-full\">\n                {/* Use unified DealCard here */}\n                <DealCard deal={deal} />\n              </div>\n            ))}\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n"],"names":["useState","useEffect","useMemo","Image","axios","DealCard","Deal","id","platform","title","url","regular_price","sale_price","discount_rate","deal_type","image_url","xboxMeta","game_pass_tier","is_day_one","epicMeta","is_free_to_keep","end_date","DealsPageProps","category","DealsPage","deals","setDeals","loading","setLoading","searchTerm","setSearchTerm","sortOrder","setSortOrder","fetchData","xboxRes","epicRes","Promise","allSettled","get","params","limit","xboxData","status","value","data","epicData","allDeals","targetDeals","filter","d","includes","error","console","filteredDeals","result","deal","toLowerCase","sort","a","b","titleA","titleB","isKoA","test","charAt","isKoB","localeCompare","numeric","length","e","target","map"],"mappings":";;;;;AAEA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,OAAO,QAAQ,OAAO;AAEpD,OAAOE,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,YAAY,CAAC,uLAAC,2BAAA;;;AALnC,YAAY;;;;AA6BG,mBAAmB,EAAEI,KAAK,EAAEc,QAAAA,EAA0B,EAAE;;IACrE,MAAM,CAACE,KAAK,EAAEC,QAAQ,CAAC,OAAG1B,yKAAQ,CAACM,CAAQ,EAAE,CAAC,AAAP,EAAE,CAAC;IAC1C,MAAM,CAACqB,OAAO,EAAEC,UAAU,CAAC,OAAG5B,yKAAQ,EAAC,IAAI,CAAC;IAC5C,MAAM,CAAC6B,UAAU,EAAEC,aAAa,CAAC,OAAG9B,yKAAQ,EAAC,EAAE,CAAC;IAChD,MAAM,CAAC+B,SAAS,EAAEC,YAAY,CAAC,OAAGhC,yKAAQ,CAAC,CAAiB,GAAb,CAAiB,CAAC,CAAf,QAAQ,CAAC;IAE3D,oBAAA;IACAC,8KAAS;+BAAC,MAAM;YACd,MAAMgC,SAAS;iDAAG,MAAAA,CAAA,KAAY;oBAC5BL,UAAU,CAAC,IAAI,CAAC;oBAChB,IAAI;wBACF,MAAM,CAACM,OAAO,EAAEC,OAAO,CAAC,GAAG,MAAMC,OAAO,CAACC,UAAU,CAAC;4BAClDjC,mJAAK,CAACkC,GAAG,CAAC,oCAAoC,EAAE;gCAC9CC,MAAM,EAAE;oCAAE/B,QAAQ,EAAE,MAAM;oCAAEgC,KAAK,EAAE;gCAAK;4BAC1C,CAAC,CAAC;4BACFpC,mJAAK,CAACkC,GAAG,CAAC,oCAAoC,EAAE;gCAC9CC,MAAM,EAAE;oCAAE/B,QAAQ,EAAE,MAAM;oCAAEgC,KAAK,EAAE;gCAAK;4BAC1C,CAAC,CAAC;yBACH,CAAC;wBAEF,MAAMC,QAAQ,GACZP,OAAO,CAACQ,MAAM,KAAK,WAAW,GAAGR,OAAO,CAACS,KAAK,CAACC,IAAI,CAACA,IAAI,GAAG,EAAE;wBAC/D,MAAMC,QAAQ,GACZV,OAAO,CAACO,MAAM,KAAK,WAAW,GAAGP,OAAO,CAACQ,KAAK,CAACC,IAAI,CAACA,IAAI,GAAG,EAAE;wBAC/D,MAAME,QAAQ,EAAExC,CAAS,CAAC,EAAN,EAAE;+BAAOmC,QAAQ,EAAE;+BAAGI,QAAQ;yBAAC;wBAEnD,IAAIE,WAAW,EAAEzC,CAAS,EAAE,CAAP,EAAE;wBACvB,IAAIiB,QAAQ,KAAK,MAAM,EAAE;4BACvBwB,WAAW,GAAGD,QAAQ,CAACE,MAAM;kEAC1BC,CAAC,GACAA,CAAC,CAACnC,SAAS,KAAK,UAAU,IAAA,CACzBmC,CAAC,CAACrC,UAAU,KAAK,CAAC,IAAIqC,CAAC,CAAC9B,QAAQ,EAAEC,eAAe,CACtD,CAAC;;wBACH,CAAC,MAAM,IAAIG,QAAQ,KAAK,MAAM,EAAE;4BAC9BwB,WAAW,GAAGD,QAAQ,CAACE,MAAM;kEAC1BC,GAAC,GACAA,GAAC,CAACnC,SAAS,KAAK,UAAU,IAC1BmC,GAAC,CAACtC,aAAa,GAAGsC,GAAC,CAACrC,UAAU,IAC9BqC,GAAC,CAACrC,UAAU,GAAG,CACnB,CAAC;;wBACH,CAAC,MAAM,IAAIW,QAAQ,KAAK,KAAK,EAAE;4BAC7BwB,WAAW,GAAGD,QAAQ,CAACE,MAAM;kEAC1BC,GAAC,GAAKA,GAAC,CAACnC,SAAS,KAAK,UAAU,IAAImC,GAAC,CAACzC,QAAQ,CAAC0C,QAAQ,CAAC,MAAM,CACjE,CAAC;;wBACH;wBAEAxB,QAAQ,CAACqB,WAAW,CAAC;oBACvB,CAAC,CAAC,OAAOI,KAAK,EAAE;wBACdC,OAAO,CAACD,KAAK,CAAC,WAAW,EAAEA,KAAK,CAAC;oBACnC,CAAC,QAAS;wBACRvB,UAAU,CAAC,KAAK,CAAC;oBACnB;gBACF,CAAC;;YACDK,SAAS,CAAC,CAAC;QACb,CAAC;8BAAE;QAACV,QAAQ;KAAC,CAAC;IAEd,qBAAA;IACA,MAAM8B,aAAa,OAAGnD,wKAAO;4CAAC,MAAM;YAClC,IAAIoD,MAAM,GAAG7B,KAAK,CAACuB,MAAM;4DAAEO,IAAI,GAC7BA,IAAI,CAAC9C,KAAK,CAAC+C,WAAW,CAAC,CAAC,CAACN,QAAQ,CAACrB,UAAU,CAAC2B,WAAW,CAAC,CAAC,CAC5D,CAAC;;YAED,IAAIzB,SAAS,KAAK,IAAI,EAAE;gBACtBuB,MAAM,CAACG,IAAI;wDAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;wBACpB,MAAMC,MAAM,GAAGF,CAAC,CAACjD,KAAK;wBACtB,MAAMoD,MAAM,GAAGF,CAAC,CAAClD,KAAK;wBACtB,MAAMqD,KAAK,GAAG,OAAO,CAACC,IAAI,CAACH,MAAM,CAACI,MAAM,CAAC,CAAC,CAAC,CAAC;wBAC5C,MAAMC,KAAK,GAAG,OAAO,CAACF,IAAI,CAACF,MAAM,CAACG,MAAM,CAAC,CAAC,CAAC,CAAC;wBAE5C,IAAIF,KAAK,KAAKG,KAAK,EAAE;4BACnB,OAAOL,MAAM,CAACM,aAAa,CAACL,MAAM,EAAE,OAAO,EAAE;gCAAEM,OAAO,EAAE;4BAAK,CAAC,CAAC;wBACjE;wBACA,OAAOL,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC;oBACvB,CAAC,CAAC;;YACJ;YACA,OAAOR,MAAM;QACf,CAAC;2CAAE;QAAC7B,KAAK;QAAEI,UAAU;QAAEE,SAAS;KAAC,CAAC;IAElC,qBACE,6LAAC,GAAG;QAAC,SAAS,EAAC,yBAAyB;gCACtC,6LAAC,IAAI;YAAC,SAAS,EAAC,qCAAqC;;8BAEnD,6LAAC,GAAG;oBAAC,SAAS,EAAC,gEAAgE;;sCAC7E,6LAAC,GAAG;;8CACF,6LAAC,EAAE;oCAAC,SAAS,EAAC,4CAA4C;8CACvDtB,KAAK;;;;;;8CAER,6LAAC,CAAC;oCAAC,SAAS,EAAC,uBAAuB;;wCAAA;wCAChC,GAAG;sDACL,6LAAC,IAAI;4CAAC,SAAS,EAAC,yBAAyB;sDACtC4C,aAAa,CAACe,MAAM;;;;;;wCACjB;;;;;;;;;;;;;sCAKV,6LAAC,GAAG;4BAAC,SAAS,EAAC,kDAAkD;;8CAC/D,6LAAC,KAAK;oCACJ,IAAI,EAAC,MAAM;oCACX,WAAW,EAAC,aAAa;oCACzB,KAAK,CAAC,CAACvC,UAAU,CAAC;oCAClB,QAAQ,CAAC,EAAEwC,CAAC,GAAKvC,aAAa,CAACuC,CAAC,CAACC,MAAM,CAAC3B,KAAK,CAAC,CAAC;oCAC/C,SAAS,EAAC,oIAAoI;;;;;;8CAEhJ,6LAAC,MAAM;oCACL,KAAK,CAAC,CAACZ,SAAS,CAAC;oCACjB,QAAQ,CAAC,CAAC,CAACsC,GAAC,EAAE,CAAQrC,EAAL,UAAiB,CAACqC,GAAC,CAACC,MAAM,CAAC3B,KAAK,CAAC,CAAC;oCACnD,SAAS,EAAC,2HAA2H;4DAErI,6LAAC,MAAM;wCAAC,KAAK,EAAC,IAAI;kDAAC,UAAU,EAAE,MAAM;;;;;;;;;;;;;;;;;;;;;;;gBAM1ChB,OAAO,iBACN,6LAAC,GAAG;oBAAC,SAAS,EAAC,2BAA2B;8BACxC,2MAAC,GAAG;wBAAC,SAAS,EAAC,gEAAgE,CAAC,EAAE,GAAG;;;;;;;;;;2BAErF0B,aAAa,CAACe,MAAM,KAAK,CAAC,iBAC5B,6LAAC,GAAG;oBAAC,SAAS,EAAC,gFAAgF;4CAC7F,6LAAC,CAAC;wBAAC,SAAS,EAAC,eAAe;kCAAC,gBAAgB,EAAE,CAAC;;;;;;;;;;yCAGlD,6LAAC,GAAG;oBAAC,SAAS,EAAC,+EAA+E;8BAC3Ff,aAAa,CAACkB,GAAG,EAAEhB,MAAI,iBACtB,6LAAC,GAAG,CAAC,GAAG,CAAC;4BAAU,SAAS,EAAC,QAAQ;oDAEnC,6LAAC,qIAAQ;gCAAC,IAAI,CAAC,CAACA,MAAI,CAAC;;;;;;2BAFbA,MAAI,CAAChD,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;AAUhC;;KAxIwBiB,SAASA","ignoreList":[]}}]
}