{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/%20aiCoding/MVP/game-deal-frontend/components/cards/FreeDealCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Image from \"next/image\";\nimport { Deal } from \"../../lib/api\";\n\ninterface DealCardProps {\n  deal: Deal;\n  className?: string;\n}\n\nexport default function FreeDealCard({ deal, className = \"\" }: DealCardProps) {\n  const [imgSrc, setImgSrc] = useState(\n    deal.image_url || \"/images/default_thumbnail.png\"\n  );\n\n  useEffect(() => {\n    setImgSrc(deal.image_url || \"/images/default_thumbnail.png\");\n  }, [deal.image_url]);\n\n  const handleImageError = () => {\n    setImgSrc(\"/images/epic_logo.jpg\");\n  };\n\n  // Ubisoft Î∞è ÎÇ†Ïßú Ìè¨Îß∑ÌåÖ (GMT -> KST +9)\n  const getFormattedEndDate = () => {\n    if (!deal.end_date) return null;\n    let endDate = new Date(deal.end_date);\n    if (deal.platform.toLowerCase().includes(\"ubisoft\")) {\n      endDate = new Date(endDate.getTime() + 9 * 60 * 60 * 1000);\n    }\n\n    // ÎÇ†Ïßú ÌòïÏãùÏùÑ \"12Ïõî 31Ïùº 14:00\" ÌòïÌÉúÎ°ú Í∞ÑÏÜåÌôî\n    return endDate.toLocaleString(\"ko-KR\", {\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      hour12: false,\n    });\n  };\n\n  return (\n    <div\n      className={`block group bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-300 flex flex-col h-full ${className}`}\n    >\n      <a\n        href={deal.url}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"flex flex-col h-full\"\n      >\n        {/* --- [1] Ïù¥ÎØ∏ÏßÄ ÏòÅÏó≠ --- */}\n        <div className=\"relative w-full aspect-video bg-gray-200 overflow-hidden\">\n          <Image\n            src={imgSrc}\n            alt={deal.title}\n            fill\n            className=\"object-cover group-hover:scale-105 transition-transform duration-300\"\n            onError={handleImageError}\n            unoptimized\n          />\n\n          {/* Free Keep Î±ÉÏßÄ (Ï¢åÏ∏° ÏÉÅÎã® Í≥†Ï†ï) */}\n          <div className=\"absolute top-2 left-2 bg-blue-600 text-white text-[10px] font-bold px-2 py-1 rounded shadow-sm z-10\">\n            Free Keep\n          </div>\n        </div>\n\n        {/* --- ÌÖçÏä§Ìä∏/Ï†ïÎ≥¥ ÏòÅÏó≠ --- */}\n        <div className=\"p-3 flex flex-col flex-grow\">\n          <h3 className=\"text-sm font-bold text-gray-900 leading-tight line-clamp-2 mb-3 group-hover:text-blue-600 transition-colors\">\n            {deal.title}\n          </h3>\n\n          <div className=\"mt-auto\">\n            {/* Í∞ÄÍ≤© Î∞è Ï¢ÖÎ£åÏùº Ï†ïÎ≥¥ Ìñâ */}\n            <div className=\"flex justify-between items-end mb-2\">\n              {/* Í∞ÄÍ≤© Ï†ïÎ≥¥ (Ï¢åÏ∏°) */}\n              <div className=\"flex flex-col items-start\">\n                {deal.regular_price > 0 && (\n                  <span className=\"text-[11px] text-gray-400 line-through mb-0.5\">\n                    ‚Ç©{deal.regular_price.toLocaleString()}\n                  </span>\n                )}\n                {/* [3] Î¨¥Î£å Ìè∞Ìä∏ ÌÅ¨Í∏∞ ÌôïÎåÄ (text-2xl) */}\n                <span className=\"text-blue-600 font-extrabold text-2xl leading-none\">\n                  Î¨¥Î£å\n                </span>\n              </div>\n\n              {/* [2] Ï¢ÖÎ£å ÏùºÏûê (Ïö∞Ï∏° ÌïòÎã®) */}\n              {deal.end_date && (\n                <div className=\"text-right pb-0.5\">\n                  <p className=\"text-[10px] text-gray-400 mb-0.5\">Î∞∞Ìè¨ Ï¢ÖÎ£å</p>\n                  <p className=\"text-[11px] text-red-500 font-bold bg-red-50 px-1.5 py-0.5 rounded inline-block\">\n                    {getFormattedEndDate()}\n                  </p>\n                </div>\n              )}\n            </div>\n\n            {/* Î≤ÑÌäº */}\n            <div className=\"w-full text-center bg-gray-100 group-hover:bg-gray-200 text-gray-800 text-xs font-bold py-2 rounded transition-colors\">\n              Ïä§ÌÜ†Ïñ¥ Ïù¥Îèô\n            </div>\n          </div>\n        </div>\n      </a>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWe,SAAS,aAAa,EAAE,IAAI,EAAE,YAAY,EAAE,EAAiB;IAC1E,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAClC,KAAK,SAAS,IAAI;IAGpB,IAAA,kNAAS,EAAC;QACR,UAAU,KAAK,SAAS,IAAI;IAC9B,GAAG;QAAC,KAAK,SAAS;KAAC;IAEnB,MAAM,mBAAmB;QACvB,UAAU;IACZ;IAEA,mCAAmC;IACnC,MAAM,sBAAsB;QAC1B,IAAI,CAAC,KAAK,QAAQ,EAAE,OAAO;QAC3B,IAAI,UAAU,IAAI,KAAK,KAAK,QAAQ;QACpC,IAAI,KAAK,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,YAAY;YACnD,UAAU,IAAI,KAAK,QAAQ,OAAO,KAAK,IAAI,KAAK,KAAK;QACvD;QAEA,iCAAiC;QACjC,OAAO,QAAQ,cAAc,CAAC,SAAS;YACrC,OAAO;YACP,KAAK;YACL,MAAM;YACN,QAAQ;YACR,QAAQ;QACV;IACF;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC,kJAAkJ,EAAE,WAAW;kBAE3K,cAAA,8OAAC;YACC,MAAM,KAAK,GAAG;YACd,QAAO;YACP,KAAI;YACJ,WAAU;;8BAGV,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,wIAAK;4BACJ,KAAK;4BACL,KAAK,KAAK,KAAK;4BACf,IAAI;4BACJ,WAAU;4BACV,SAAS;4BACT,WAAW;;;;;;sCAIb,8OAAC;4BAAI,WAAU;sCAAsG;;;;;;;;;;;;8BAMvH,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCACX,KAAK,KAAK;;;;;;sCAGb,8OAAC;4BAAI,WAAU;;8CAEb,8OAAC;oCAAI,WAAU;;sDAEb,8OAAC;4CAAI,WAAU;;gDACZ,KAAK,aAAa,GAAG,mBACpB,8OAAC;oDAAK,WAAU;;wDAAgD;wDAC5D,KAAK,aAAa,CAAC,cAAc;;;;;;;8DAIvC,8OAAC;oDAAK,WAAU;8DAAqD;;;;;;;;;;;;wCAMtE,KAAK,QAAQ,kBACZ,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAE,WAAU;8DAAmC;;;;;;8DAChD,8OAAC;oDAAE,WAAU;8DACV;;;;;;;;;;;;;;;;;;8CAOT,8OAAC;oCAAI,WAAU;8CAAwH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQnJ"}},
    {"offset": {"line": 274, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/%20aiCoding/MVP/game-deal-frontend/components/cards/SubDealCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Image from \"next/image\";\nimport { Deal } from \"../../lib/api\";\n\ninterface DealCardProps {\n  deal: Deal;\n  className?: string;\n}\n\nexport default function SubDealCard({ deal, className = \"\" }: DealCardProps) {\n  const [imgSrc, setImgSrc] = useState(\n    deal.image_url || \"/images/default_thumbnail.png\"\n  );\n\n  useEffect(() => {\n    setImgSrc(deal.image_url || \"/images/default_thumbnail.png\");\n  }, [deal.image_url]);\n\n  const handleImageError = () => {\n    setImgSrc(\"/images/gamepass_logo.jpg\");\n  };\n\n  return (\n    <div\n      className={`block group bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-300 flex flex-col h-full ${className}`}\n    >\n      <a\n        href={deal.url}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"flex flex-col h-full\"\n      >\n        {/* Ïù¥ÎØ∏ÏßÄ ÏòÅÏó≠ */}\n        <div className=\"relative w-full aspect-video bg-gray-200 overflow-hidden\">\n          <Image\n            src={imgSrc}\n            alt={deal.title}\n            fill\n            className=\"object-cover group-hover:scale-105 transition-transform duration-300\"\n            onError={handleImageError}\n            unoptimized\n          />\n          {/* Day 1 Î±ÉÏßÄ */}\n          {deal.xboxMeta?.is_day_one && (\n            <div className=\"absolute top-2 right-2 bg-yellow-400 text-black text-[9px] font-bold px-1.5 py-0.5 rounded shadow-sm\">\n              Day 1\n            </div>\n          )}\n        </div>\n\n        {/* ÏΩòÌÖêÏ∏† ÏòÅÏó≠ */}\n        <div className=\"p-3 flex flex-col flex-grow\">\n          <h3 className=\"text-sm font-bold text-gray-900 leading-tight line-clamp-2 mb-2 group-hover:text-green-600 transition-colors\">\n            {deal.title}\n          </h3>\n\n          <div className=\"mt-auto\">\n            {/* Î±ÉÏßÄ Î™©Î°ù */}\n            <div className=\"flex flex-wrap gap-1 mb-2\">\n              <span className=\"px-2 py-0.5 text-[10px] font-bold text-green-800 bg-green-100 rounded-full\">\n                GAME PASS\n              </span>\n              <span className=\"px-2 py-0.5 text-[10px] font-bold text-gray-600 bg-gray-100 rounded-full uppercase\">\n                {deal.platform.includes(\"Xbox\") ? \"Xbox\" : deal.platform}\n              </span>\n            </div>\n\n            {/* Ìã∞Ïñ¥ Ï†ïÎ≥¥ */}\n            <div className=\"mb-2\">\n              <span className=\"text-xs font-extrabold text-green-700 uppercase block\">\n                {deal.xboxMeta?.game_pass_tier.replace(/,/g, \" ¬∑ \") ||\n                  \"SUBSCRIPTION\"}\n              </span>\n            </div>\n\n            <div className=\"w-full text-center bg-green-50 group-hover:bg-green-100 text-green-800 text-xs font-bold py-1.5 rounded transition-colors\">\n              ÌîåÎ†àÏù¥ ÌïòÍ∏∞\n            </div>\n          </div>\n        </div>\n      </a>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWe,SAAS,YAAY,EAAE,IAAI,EAAE,YAAY,EAAE,EAAiB;IACzE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAClC,KAAK,SAAS,IAAI;IAGpB,IAAA,kNAAS,EAAC;QACR,UAAU,KAAK,SAAS,IAAI;IAC9B,GAAG;QAAC,KAAK,SAAS;KAAC;IAEnB,MAAM,mBAAmB;QACvB,UAAU;IACZ;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC,kJAAkJ,EAAE,WAAW;kBAE3K,cAAA,8OAAC;YACC,MAAM,KAAK,GAAG;YACd,QAAO;YACP,KAAI;YACJ,WAAU;;8BAGV,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,wIAAK;4BACJ,KAAK;4BACL,KAAK,KAAK,KAAK;4BACf,IAAI;4BACJ,WAAU;4BACV,SAAS;4BACT,WAAW;;;;;;wBAGZ,KAAK,QAAQ,EAAE,4BACd,8OAAC;4BAAI,WAAU;sCAAuG;;;;;;;;;;;;8BAO1H,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCACX,KAAK,KAAK;;;;;;sCAGb,8OAAC;4BAAI,WAAU;;8CAEb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAK,WAAU;sDAA6E;;;;;;sDAG7F,8OAAC;4CAAK,WAAU;sDACb,KAAK,QAAQ,CAAC,QAAQ,CAAC,UAAU,SAAS,KAAK,QAAQ;;;;;;;;;;;;8CAK5D,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAK,WAAU;kDACb,KAAK,QAAQ,EAAE,eAAe,QAAQ,MAAM,UAC3C;;;;;;;;;;;8CAIN,8OAAC;oCAAI,WAAU;8CAA4H;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQvJ"}},
    {"offset": {"line": 422, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/%20aiCoding/MVP/game-deal-frontend/components/cards/SaleDealCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Image from \"next/image\";\nimport { Deal } from \"../../lib/api\";\n\ninterface DealCardProps {\n  deal: Deal;\n  className?: string;\n}\n\nexport default function SaleDealCard({ deal, className = \"\" }: DealCardProps) {\n  const [imgSrc, setImgSrc] = useState(\n    deal.image_url || \"/images/default_thumbnail.png\"\n  );\n\n  useEffect(() => {\n    setImgSrc(deal.image_url || \"/images/default_thumbnail.png\");\n  }, [deal.image_url]);\n\n  const handleImageError = () => {\n    if (deal.platform.toLowerCase().includes(\"epic\")) {\n      setImgSrc(\"/images/epic_logo.jpg\");\n    } else {\n      setImgSrc(\"/images/default_thumbnail.png\");\n    }\n  };\n\n  return (\n    <div\n      className={`block group bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-300 flex flex-col h-full ${className}`}\n    >\n      <a\n        href={deal.url}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"flex flex-col h-full\"\n      >\n        {/* Ïù¥ÎØ∏ÏßÄ ÏòÅÏó≠ */}\n        <div className=\"relative w-full aspect-video bg-gray-200 overflow-hidden\">\n          <Image\n            src={imgSrc}\n            alt={deal.title}\n            fill\n            className=\"object-cover group-hover:scale-105 transition-transform duration-300\"\n            onError={handleImageError}\n            unoptimized\n          />\n          {/* Ìï†Ïù∏Ïú® Î±ÉÏßÄ */}\n          {deal.discount_rate > 0 && (\n            <div className=\"absolute bottom-2 right-2 bg-red-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded shadow-sm\">\n              -{deal.discount_rate}%\n            </div>\n          )}\n        </div>\n\n        {/* ÏΩòÌÖêÏ∏† ÏòÅÏó≠ */}\n        <div className=\"p-3 flex flex-col flex-grow\">\n          <div className=\"flex justify-between items-start mb-1\">\n            <span className=\"px-2 py-0.5 text-[9px] font-bold rounded bg-gray-100 text-gray-600\">\n              {deal.platform}\n            </span>\n          </div>\n\n          <h3 className=\"text-sm font-bold text-gray-900 leading-tight line-clamp-2 mb-1 h-10 group-hover:text-blue-600 transition-colors\">\n            {deal.title}\n          </h3>\n\n          <div className=\"mt-auto\">\n            <div className=\"flex flex-col items-start mb-2\">\n              {deal.regular_price > deal.sale_price && (\n                <span className=\"text-[10px] text-gray-400 line-through\">\n                  ‚Ç©{deal.regular_price.toLocaleString()}\n                </span>\n              )}\n              <span className=\"text-blue-600 font-bold text-sm\">\n                ‚Ç©{deal.sale_price.toLocaleString()}\n              </span>\n            </div>\n\n            <div className=\"w-full text-center bg-gray-100 group-hover:bg-gray-200 text-gray-800 text-xs font-bold py-1.5 rounded transition-colors\">\n              Ïä§ÌÜ†Ïñ¥ Ïù¥Îèô\n            </div>\n          </div>\n        </div>\n      </a>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWe,SAAS,aAAa,EAAE,IAAI,EAAE,YAAY,EAAE,EAAiB;IAC1E,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAClC,KAAK,SAAS,IAAI;IAGpB,IAAA,kNAAS,EAAC;QACR,UAAU,KAAK,SAAS,IAAI;IAC9B,GAAG;QAAC,KAAK,SAAS;KAAC;IAEnB,MAAM,mBAAmB;QACvB,IAAI,KAAK,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,SAAS;YAChD,UAAU;QACZ,OAAO;YACL,UAAU;QACZ;IACF;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC,kJAAkJ,EAAE,WAAW;kBAE3K,cAAA,8OAAC;YACC,MAAM,KAAK,GAAG;YACd,QAAO;YACP,KAAI;YACJ,WAAU;;8BAGV,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,wIAAK;4BACJ,KAAK;4BACL,KAAK,KAAK,KAAK;4BACf,IAAI;4BACJ,WAAU;4BACV,SAAS;4BACT,WAAW;;;;;;wBAGZ,KAAK,aAAa,GAAG,mBACpB,8OAAC;4BAAI,WAAU;;gCAAwG;gCACnH,KAAK,aAAa;gCAAC;;;;;;;;;;;;;8BAM3B,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAK,WAAU;0CACb,KAAK,QAAQ;;;;;;;;;;;sCAIlB,8OAAC;4BAAG,WAAU;sCACX,KAAK,KAAK;;;;;;sCAGb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;wCACZ,KAAK,aAAa,GAAG,KAAK,UAAU,kBACnC,8OAAC;4CAAK,WAAU;;gDAAyC;gDACrD,KAAK,aAAa,CAAC,cAAc;;;;;;;sDAGvC,8OAAC;4CAAK,WAAU;;gDAAkC;gDAC9C,KAAK,UAAU,CAAC,cAAc;;;;;;;;;;;;;8CAIpC,8OAAC;oCAAI,WAAU;8CAA0H;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQrJ"}},
    {"offset": {"line": 584, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/%20aiCoding/MVP/game-deal-frontend/components/DealCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { Deal } from \"../lib/api\";\nimport FreeDealCard from \"./cards/FreeDealCard\";\nimport SubDealCard from \"./cards/SubDealCard\";\nimport SaleDealCard from \"./cards/SaleDealCard\";\n\ninterface DealCardProps {\n  deal: Deal;\n  className?: string;\n}\n\nexport default function DealCard({ deal, className = \"\" }: DealCardProps) {\n  // 1. Íµ¨ÎèÖ(GamePass/Xbox) Ïó¨Î∂Ä ÌôïÏù∏\n  const isGamePass =\n    deal.deal_type === \"GamePass\" ||\n    deal.platform.includes(\"Xbox\") ||\n    deal.xboxMeta !== undefined;\n\n  if (isGamePass) {\n    return <SubDealCard deal={deal} className={className} />;\n  }\n\n  // 2. Î¨¥Î£å Î∞∞Ìè¨ Í≤åÏûÑ Ïó¨Î∂Ä ÌôïÏù∏ (GamePass Ï†úÏô∏)\n  const isFreeGame =\n    deal.deal_type === \"Free\" ||\n    deal.sale_price === 0 ||\n    deal.epicMeta?.is_free_to_keep === true;\n\n  if (isFreeGame) {\n    return <FreeDealCard deal={deal} className={className} />;\n  }\n\n  // 3. Í∑∏ Ïô∏Îäî ÏùºÎ∞ò Ìï†Ïù∏/ÌåêÎß§ Í≤åÏûÑ\n  return <SaleDealCard deal={deal} className={className} />;\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AALA;;;;;AAYe,SAAS,SAAS,EAAE,IAAI,EAAE,YAAY,EAAE,EAAiB;IACtE,6BAA6B;IAC7B,MAAM,aACJ,KAAK,SAAS,KAAK,cACnB,KAAK,QAAQ,CAAC,QAAQ,CAAC,WACvB,KAAK,QAAQ,KAAK;IAEpB,IAAI,YAAY;QACd,qBAAO,8OAAC,8IAAW;YAAC,MAAM;YAAM,WAAW;;;;;;IAC7C;IAEA,kCAAkC;IAClC,MAAM,aACJ,KAAK,SAAS,KAAK,UACnB,KAAK,UAAU,KAAK,KACpB,KAAK,QAAQ,EAAE,oBAAoB;IAErC,IAAI,YAAY;QACd,qBAAO,8OAAC,+IAAY;YAAC,MAAM;YAAM,WAAW;;;;;;IAC9C;IAEA,sBAAsB;IACtB,qBAAO,8OAAC,+IAAY;QAAC,MAAM;QAAM,WAAW;;;;;;AAC9C"}},
    {"offset": {"line": 636, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/%20aiCoding/MVP/game-deal-frontend/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport DealCard from \"../components/DealCard\"; // Ïª¥Ìè¨ÎÑåÌä∏ ÏÇ¨Ïö©\nimport { Deal } from \"../lib/api\";\n\ninterface ApiResponse {\n  meta: {\n    totalItems: number;\n    totalPages: number;\n    currentPage: number;\n    itemsPerPage: number;\n  };\n  data: Deal[];\n}\n\ntype GroupedByPlatform = Record<string, Deal[]>;\n\ninterface DashboardData {\n  free: GroupedByPlatform;\n  sale: GroupedByPlatform;\n  sub: GroupedByPlatform;\n}\n\n// --- PlatformRow Ïª¥Ìè¨ÎÑåÌä∏ ---\nconst PlatformRow = ({\n  platformName,\n  deals,\n}: {\n  platformName: string;\n  deals: Deal[];\n}) => {\n  const scrollContainerRef = useRef<HTMLDivElement>(null);\n\n  const scroll = (direction: \"left\" | \"right\") => {\n    if (scrollContainerRef.current) {\n      const scrollAmount = 300 * 2;\n      scrollContainerRef.current.scrollBy({\n        left: direction === \"left\" ? -scrollAmount : scrollAmount,\n        behavior: \"smooth\",\n      });\n    }\n  };\n\n  return (\n    <div className=\"mb-8 last:mb-0\">\n      <div className=\"flex justify-between items-center mb-3 px-4 md:px-0\">\n        <h3 className=\"text-lg font-bold text-gray-800 flex items-center gap-2\">\n          <span className=\"w-1 h-5 bg-gray-800 rounded-full inline-block\"></span>\n          {platformName}{\" \"}\n          <span className=\"text-gray-400 text-sm font-normal\">\n            ({deals.length})\n          </span>\n        </h3>\n        <div className=\"hidden md:flex gap-1\">\n          <button\n            onClick={() => scroll(\"left\")}\n            className=\"p-1.5 rounded-full border hover:bg-gray-100 text-gray-500\"\n          >\n            ‚Üê\n          </button>\n          <button\n            onClick={() => scroll(\"right\")}\n            className=\"p-1.5 rounded-full border hover:bg-gray-100 text-gray-500\"\n          >\n            ‚Üí\n          </button>\n        </div>\n      </div>\n\n      <div\n        ref={scrollContainerRef}\n        className=\"flex gap-4 overflow-x-auto pb-4 px-4 md:px-0 snap-x scrollbar-hide\"\n        style={{ scrollbarWidth: \"none\", msOverflowStyle: \"none\" }}\n      >\n        {/* [ÏàòÏ†ï] Ïª¥Ìè¨ÎÑåÌä∏Î°ú Î†åÎçîÎßÅ ÏúÑÏûÑ */}\n        {deals.map((deal) => (\n          <div key={deal.id} className=\"flex-none w-64 snap-start h-full\">\n            <DealCard deal={deal} className=\"h-full\" />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\n// --- Main Home Ïª¥Ìè¨ÎÑåÌä∏ ---\nexport default function Home() {\n  const [dashboardData, setDashboardData] = useState<DashboardData>({\n    free: {},\n    sale: {},\n    sub: {},\n  });\n  const [loading, setLoading] = useState<boolean>(true);\n\n  const processDeals = (allDeals: Deal[]) => {\n    const grouped: DashboardData = { free: {}, sale: {}, sub: {} };\n\n    const addToGroup = (\n      category: keyof DashboardData,\n      platform: string,\n      deal: Deal\n    ) => {\n      if (!grouped[category][platform]) {\n        grouped[category][platform] = [];\n      }\n      grouped[category][platform].push(deal);\n    };\n\n    allDeals.forEach((deal) => {\n      // 1. Íµ¨ÎèÖ ÏÑúÎπÑÏä§ (Xbox Game Pass)\n      if (deal.platform.includes(\"Xbox\") || deal.deal_type === \"GamePass\") {\n        addToGroup(\"sub\", \"Xbox Game Pass\", deal);\n        return;\n      }\n\n      // 2. Î¨¥Î£å Î∞∞Ìè¨ (Í∞ÄÍ≤© 0Ïõê or Epic Free Keep)\n      if (deal.sale_price === 0 || deal.epicMeta?.is_free_to_keep) {\n        let platformName = deal.platform;\n        if (platformName.includes(\"Epic\")) platformName = \"Epic Games\";\n        if (platformName.includes(\"Steam\")) platformName = \"Steam\";\n\n        addToGroup(\"free\", platformName, deal);\n      }\n      // 3. Ìï†Ïù∏\n      else if (deal.regular_price > deal.sale_price && deal.sale_price > 0) {\n        let platformName = deal.platform;\n        if (platformName.includes(\"Epic\")) platformName = \"Epic Games\";\n\n        addToGroup(\"sale\", platformName, deal);\n      }\n    });\n\n    return grouped;\n  };\n\n  useEffect(() => {\n    const fetchAllData = async () => {\n      setLoading(true);\n      try {\n        const [xboxRes, epicRes] = await Promise.allSettled([\n          axios.get<ApiResponse>(\"http://localhost:4000/api/v1/deals\", {\n            params: { platform: \"Xbox\", limit: 3000 },\n          }),\n          axios.get<ApiResponse>(\"http://localhost:4000/api/v1/deals\", {\n            params: { platform: \"Epic\", limit: 3000 },\n          }),\n        ]);\n\n        const xboxDeals =\n          xboxRes.status === \"fulfilled\" ? xboxRes.value.data.data : [];\n        const epicDeals =\n          epicRes.status === \"fulfilled\" ? epicRes.value.data.data : [];\n        const allDeals = [...xboxDeals, ...epicDeals];\n\n        setDashboardData(processDeals(allDeals));\n      } catch (error) {\n        console.error(\"Failed to fetch deals\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchAllData();\n  }, []);\n\n  const renderSection = (\n    id: string,\n    title: string,\n    desc: string,\n    data: GroupedByPlatform\n  ) => {\n    const platforms = Object.keys(data);\n    if (platforms.length === 0) return null;\n\n    return (\n      <section id={id} className=\"mb-16 pt-20 -mt-20\">\n        <div className=\"mb-6 border-b border-gray-200 pb-4\">\n          <h2 className=\"text-3xl font-extrabold text-gray-900\">{title}</h2>\n          <p className=\"text-gray-500 mt-1\">{desc}</p>\n        </div>\n        {platforms.map((platform) => (\n          <PlatformRow\n            key={platform}\n            platformName={platform}\n            deals={data[platform]}\n          />\n        ))}\n      </section>\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <main className=\"max-w-7xl mx-auto px-4 md:px-8 py-8\">\n        {loading ? (\n          <div className=\"flex flex-col gap-12 animate-pulse mt-8\">\n            {[1, 2, 3].map((i) => (\n              <div key={i}>\n                <div className=\"h-8 bg-gray-200 rounded w-48 mb-4\"></div>\n                <div className=\"flex gap-4 overflow-hidden\">\n                  {[1, 2, 3, 4].map((j) => (\n                    <div\n                      key={j}\n                      className=\"w-56 h-64 bg-gray-200 rounded-lg shrink-0\"\n                    ></div>\n                  ))}\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <>\n            {renderSection(\n              \"free\",\n              \"üéÅ Î¨¥Î£å Î∞∞Ìè¨ Í≤åÏûÑ\",\n              \"Epic Games, Steam Îì± ÏßÄÍ∏à Î∞îÎ°ú ÎùºÏù¥Î∏åÎü¨Î¶¨Ïóê Ï∂îÍ∞ÄÌïòÏÑ∏Ïöî.\",\n              dashboardData.free\n            )}\n            {renderSection(\n              \"sale\",\n              \"üî• Ìï†Ïù∏ Ï§ëÏù∏ Í≤åÏûÑ\",\n              \"ÎÜìÏπòÎ©¥ ÌõÑÌöåÌï† Ïó≠ÎåÄÍ∏â Ìï†Ïù∏ Ï†ïÎ≥¥Î•º Î™®ÏïòÏäµÎãàÎã§.\",\n              dashboardData.sale\n            )}\n            {renderSection(\n              \"sub\",\n              \"üéÆ Íµ¨ÎèÖ ÏÑúÎπÑÏä§ Ïπ¥ÌÉàÎ°úÍ∑∏\",\n              \"Xbox Game Pass, PS Plus Îì± Íµ¨ÎèÖÌòï Í≤åÏûÑ Î¶¨Ïä§Ìä∏ÏûÖÎãàÎã§.\",\n              dashboardData.sub\n            )}\n\n            {Object.keys(dashboardData.free).length === 0 &&\n              Object.keys(dashboardData.sale).length === 0 &&\n              Object.keys(dashboardData.sub).length === 0 && (\n                <div className=\"text-center py-32\">\n                  <p className=\"text-gray-500 text-lg\">\n                    ÌòÑÏû¨ ÌëúÏãúÌï† Í≤åÏûÑ Ï†ïÎ≥¥Í∞Ä ÏóÜÏäµÎãàÎã§.\n                  </p>\n                </div>\n              )}\n          </>\n        )}\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}