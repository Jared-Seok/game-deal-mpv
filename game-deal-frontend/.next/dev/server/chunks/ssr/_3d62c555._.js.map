{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/%20aiCoding/MVP/game-deal-frontend/lib/api.ts"],"sourcesContent":["// game-deal-frontend/lib/api.ts\n\nexport interface XboxMetadata {\n  game_pass_tier: string;\n  is_day_one: boolean;\n  removal_date?: string;\n}\n\nexport interface EpicMetadata {\n  is_free_to_keep: boolean;\n}\n\nexport interface Deal {\n  id: number;\n  platform: string;\n  title: string;\n  url: string;\n  regular_price: number;\n  sale_price: number;\n  discount_rate: number;\n  deal_type: \"Sale\" | \"Free\" | \"GamePass\";\n  end_date: string | null;\n  is_active: boolean;\n  image_url?: string | null;\n  xboxMeta?: XboxMetadata;\n  epicMeta?: EpicMetadata;\n}\n\ninterface FetchDealsParams {\n  page?: number;\n  limit?: number;\n  type?: \"free\" | \"sub\" | \"sale\"; // 카테고리 필터 추가\n  platform?: string;\n  search?: string;\n}\n\nexport async function fetchDeals(\n  params: FetchDealsParams = {}\n): Promise<Deal[]> {\n  const API_BASE_URL =\n    process.env.NEXT_PUBLIC_API_BASE_URL || \"http://localhost:4000\";\n  const url = new URL(`${API_BASE_URL}/api/v1/deals`);\n\n  if (params.page) url.searchParams.append(\"page\", params.page.toString());\n  if (params.limit) url.searchParams.append(\"limit\", params.limit.toString());\n  if (params.type) url.searchParams.append(\"type\", params.type);\n  if (params.platform) url.searchParams.append(\"platform\", params.platform);\n  if (params.search) url.searchParams.append(\"search\", params.search);\n\n  console.log(`Fetching deals from: ${url.toString()}`);\n\n  try {\n    const res = await fetch(url.toString(), { cache: \"no-store\" });\n\n    if (!res.ok) {\n      console.error(\"API Fetch Error:\", res.statusText);\n      return [];\n    }\n\n    const json = await res.json();\n    return json.data || [];\n  } catch (error) {\n    console.error(\"Failed to fetch deals:\", error);\n    return [];\n  }\n}\n"],"names":[],"mappings":"AAAA,gCAAgC;;;;;AAoCzB,eAAe,WACpB,SAA2B,CAAC,CAAC;IAE7B,MAAM,eACJ,6DAAwC;IAC1C,MAAM,MAAM,IAAI,IAAI,GAAG,aAAa,aAAa,CAAC;IAElD,IAAI,OAAO,IAAI,EAAE,IAAI,YAAY,CAAC,MAAM,CAAC,QAAQ,OAAO,IAAI,CAAC,QAAQ;IACrE,IAAI,OAAO,KAAK,EAAE,IAAI,YAAY,CAAC,MAAM,CAAC,SAAS,OAAO,KAAK,CAAC,QAAQ;IACxE,IAAI,OAAO,IAAI,EAAE,IAAI,YAAY,CAAC,MAAM,CAAC,QAAQ,OAAO,IAAI;IAC5D,IAAI,OAAO,QAAQ,EAAE,IAAI,YAAY,CAAC,MAAM,CAAC,YAAY,OAAO,QAAQ;IACxE,IAAI,OAAO,MAAM,EAAE,IAAI,YAAY,CAAC,MAAM,CAAC,UAAU,OAAO,MAAM;IAElE,QAAQ,GAAG,CAAC,CAAC,qBAAqB,EAAE,IAAI,QAAQ,IAAI;IAEpD,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,IAAI,QAAQ,IAAI;YAAE,OAAO;QAAW;QAE5D,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,QAAQ,KAAK,CAAC,oBAAoB,IAAI,UAAU;YAChD,OAAO,EAAE;QACX;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO,KAAK,IAAI,IAAI,EAAE;IACxB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,EAAE;IACX;AACF"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/%20aiCoding/MVP/game-deal-frontend/components/cards/FreeDealCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Image from \"next/image\";\nimport { Deal } from \"../../lib/api\";\n\ninterface DealCardProps {\n  deal: Deal;\n  className?: string;\n}\n\nexport default function FreeDealCard({ deal, className = \"\" }: DealCardProps) {\n  const [imgSrc, setImgSrc] = useState(\n    deal.image_url || \"/images/default_thumbnail.png\"\n  );\n\n  useEffect(() => {\n    setImgSrc(deal.image_url || \"/images/default_thumbnail.png\");\n  }, [deal.image_url]);\n\n  const handleImageError = () => {\n    setImgSrc(\"/images/epic_logo.jpg\");\n  };\n\n  // --- [로직] 날짜 계산 (Ubisoft +9시간 보정) ---\n  const getFormattedEndDate = () => {\n    if (!deal.end_date) return null;\n\n    let endDate = new Date(deal.end_date);\n\n    // Ubisoft: GMT 기준이므로 KST(+9h) 보정\n    // 24시 초과 시 날짜 자동 계산은 Date 객체 메서드(setHours)가 알아서 처리함\n    if (deal.platform.toLowerCase().includes(\"ubisoft\")) {\n      endDate.setHours(endDate.getHours() + 9);\n    }\n\n    return endDate.toLocaleString(\"ko-KR\", {\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      hour12: false,\n    });\n  };\n\n  // 플랫폼 이름 정제 (이미지 좌측 상단용)\n  const getPlatformName = () => {\n    if (deal.platform.toLowerCase().includes(\"epic\")) return \"EPIC GAMES\";\n    if (deal.platform.toLowerCase().includes(\"ubisoft\")) return \"UBISOFT\";\n    if (deal.platform.toLowerCase().includes(\"steam\")) return \"STEAM\";\n    return deal.platform;\n  };\n\n  return (\n    <div\n      className={`block group bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-300 flex flex-col h-full ${className}`}\n    >\n      <a\n        href={deal.url}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"flex flex-col h-full\"\n      >\n        {/* 이미지 영역 */}\n        <div className=\"relative w-full aspect-video bg-gray-200 overflow-hidden\">\n          <Image\n            src={imgSrc}\n            alt={deal.title}\n            fill\n            className=\"object-cover group-hover:scale-105 transition-transform duration-300\"\n            onError={handleImageError}\n            unoptimized\n          />\n\n          {/* [수정 1] 좌측 상단 플랫폼 뱃지 (검정 반투명 배경) */}\n          <div className=\"absolute top-2 left-2 bg-black/70 backdrop-blur-sm text-white text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wide z-10\">\n            {getPlatformName()}\n          </div>\n        </div>\n\n        {/* 텍스트 정보 영역 */}\n        <div className=\"p-3 flex flex-col flex-grow\">\n          {/* 타이틀 */}\n          <h3 className=\"text-sm font-bold text-gray-900 leading-tight line-clamp-2 mb-4 group-hover:text-blue-600 transition-colors\">\n            {deal.title}\n          </h3>\n\n          <div className=\"mt-auto\">\n            <div className=\"flex justify-between items-end mb-3\">\n              {/* [수정 2] 가격 정보 (좌측) */}\n              <div className=\"flex flex-col items-start\">\n                {/* 정가 (취소선) */}\n                {deal.regular_price > 0 && (\n                  <span className=\"text-xs text-gray-400 line-through mb-0.5\">\n                    ₩{deal.regular_price.toLocaleString()}\n                  </span>\n                )}\n                {/* 무료 텍스트 강조 */}\n                <span className=\"text-blue-600 font-extrabold text-xl\">\n                  무료\n                </span>\n              </div>\n\n              {/* [수정 3] 종료 일자 (우측) */}\n              {deal.end_date && (\n                <div className=\"text-right flex flex-col items-end\">\n                  <span className=\"text-[10px] text-gray-400 mb-0.5\">\n                    종료 일시\n                  </span>\n                  <span className=\"text-[11px] text-red-600 font-bold bg-red-50 px-1.5 py-0.5 rounded\">\n                    ~ {getFormattedEndDate()}\n                  </span>\n                </div>\n              )}\n            </div>\n\n            {/* [수정 4] 버튼 통일 */}\n            <div className=\"w-full text-center bg-gray-100 group-hover:bg-gray-200 text-gray-800 text-xs font-bold py-2.5 rounded transition-colors\">\n              스토어로 이동\n            </div>\n          </div>\n        </div>\n      </a>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWe,SAAS,aAAa,EAAE,IAAI,EAAE,YAAY,EAAE,EAAiB;IAC1E,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAClC,KAAK,SAAS,IAAI;IAGpB,IAAA,kNAAS,EAAC;QACR,UAAU,KAAK,SAAS,IAAI;IAC9B,GAAG;QAAC,KAAK,SAAS;KAAC;IAEnB,MAAM,mBAAmB;QACvB,UAAU;IACZ;IAEA,uCAAuC;IACvC,MAAM,sBAAsB;QAC1B,IAAI,CAAC,KAAK,QAAQ,EAAE,OAAO;QAE3B,IAAI,UAAU,IAAI,KAAK,KAAK,QAAQ;QAEpC,iCAAiC;QACjC,oDAAoD;QACpD,IAAI,KAAK,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,YAAY;YACnD,QAAQ,QAAQ,CAAC,QAAQ,QAAQ,KAAK;QACxC;QAEA,OAAO,QAAQ,cAAc,CAAC,SAAS;YACrC,OAAO;YACP,KAAK;YACL,MAAM;YACN,QAAQ;YACR,QAAQ;QACV;IACF;IAEA,yBAAyB;IACzB,MAAM,kBAAkB;QACtB,IAAI,KAAK,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,SAAS,OAAO;QACzD,IAAI,KAAK,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,YAAY,OAAO;QAC5D,IAAI,KAAK,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,UAAU,OAAO;QAC1D,OAAO,KAAK,QAAQ;IACtB;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC,kJAAkJ,EAAE,WAAW;kBAE3K,cAAA,8OAAC;YACC,MAAM,KAAK,GAAG;YACd,QAAO;YACP,KAAI;YACJ,WAAU;;8BAGV,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,wIAAK;4BACJ,KAAK;4BACL,KAAK,KAAK,KAAK;4BACf,IAAI;4BACJ,WAAU;4BACV,SAAS;4BACT,WAAW;;;;;;sCAIb,8OAAC;4BAAI,WAAU;sCACZ;;;;;;;;;;;;8BAKL,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAG,WAAU;sCACX,KAAK,KAAK;;;;;;sCAGb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDAEb,8OAAC;4CAAI,WAAU;;gDAEZ,KAAK,aAAa,GAAG,mBACpB,8OAAC;oDAAK,WAAU;;wDAA4C;wDACxD,KAAK,aAAa,CAAC,cAAc;;;;;;;8DAIvC,8OAAC;oDAAK,WAAU;8DAAuC;;;;;;;;;;;;wCAMxD,KAAK,QAAQ,kBACZ,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAK,WAAU;8DAAmC;;;;;;8DAGnD,8OAAC;oDAAK,WAAU;;wDAAqE;wDAChF;;;;;;;;;;;;;;;;;;;8CAOX,8OAAC;oCAAI,WAAU;8CAA0H;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQrJ"}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/%20aiCoding/MVP/game-deal-frontend/components/cards/SubDealCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Image from \"next/image\";\nimport { Deal } from \"../../lib/api\";\n\ninterface DealCardProps {\n  deal: Deal;\n  className?: string;\n}\n\nexport default function SubDealCard({ deal, className = \"\" }: DealCardProps) {\n  const [imgSrc, setImgSrc] = useState(\n    deal.image_url || \"/images/default_thumbnail.png\"\n  );\n\n  useEffect(() => {\n    setImgSrc(deal.image_url || \"/images/default_thumbnail.png\");\n  }, [deal.image_url]);\n\n  const handleImageError = () => {\n    setImgSrc(\"/images/gamepass_logo.jpg\");\n  };\n\n  return (\n    <div\n      className={`block group bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-300 flex flex-col h-full ${className}`}\n    >\n      <a\n        href={deal.url}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"flex flex-col h-full\"\n      >\n        {/* 이미지 영역 */}\n        <div className=\"relative w-full aspect-video bg-gray-200 overflow-hidden\">\n          <Image\n            src={imgSrc}\n            alt={deal.title}\n            fill\n            className=\"object-cover group-hover:scale-105 transition-transform duration-300\"\n            onError={handleImageError}\n            unoptimized\n          />\n          {/* Day 1 뱃지 */}\n          {deal.xboxMeta?.is_day_one && (\n            <div className=\"absolute top-2 right-2 bg-yellow-400 text-black text-[9px] font-bold px-1.5 py-0.5 rounded shadow-sm\">\n              Day 1\n            </div>\n          )}\n        </div>\n\n        {/* 콘텐츠 영역 */}\n        <div className=\"p-3 flex flex-col flex-grow\">\n          <h3 className=\"text-sm font-bold text-gray-900 leading-tight line-clamp-2 mb-2 group-hover:text-green-600 transition-colors\">\n            {deal.title}\n          </h3>\n\n          <div className=\"mt-auto\">\n            {/* 뱃지 목록 */}\n            <div className=\"flex flex-wrap gap-1 mb-2\">\n              <span className=\"px-2 py-0.5 text-[10px] font-bold text-green-800 bg-green-100 rounded-full\">\n                GAME PASS\n              </span>\n              <span className=\"px-2 py-0.5 text-[10px] font-bold text-gray-600 bg-gray-100 rounded-full uppercase\">\n                {deal.platform.includes(\"Xbox\") ? \"Xbox\" : deal.platform}\n              </span>\n            </div>\n\n            {/* 티어 정보 */}\n            <div className=\"mb-2\">\n              <span className=\"text-xs font-extrabold text-green-700 uppercase block\">\n                {deal.xboxMeta?.game_pass_tier.replace(/,/g, \" · \") ||\n                  \"SUBSCRIPTION\"}\n              </span>\n            </div>\n\n            <div className=\"w-full text-center bg-green-50 group-hover:bg-green-100 text-green-800 text-xs font-bold py-1.5 rounded transition-colors\">\n              플레이 하기\n            </div>\n          </div>\n        </div>\n      </a>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWe,SAAS,YAAY,EAAE,IAAI,EAAE,YAAY,EAAE,EAAiB;IACzE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAClC,KAAK,SAAS,IAAI;IAGpB,IAAA,kNAAS,EAAC;QACR,UAAU,KAAK,SAAS,IAAI;IAC9B,GAAG;QAAC,KAAK,SAAS;KAAC;IAEnB,MAAM,mBAAmB;QACvB,UAAU;IACZ;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC,kJAAkJ,EAAE,WAAW;kBAE3K,cAAA,8OAAC;YACC,MAAM,KAAK,GAAG;YACd,QAAO;YACP,KAAI;YACJ,WAAU;;8BAGV,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,wIAAK;4BACJ,KAAK;4BACL,KAAK,KAAK,KAAK;4BACf,IAAI;4BACJ,WAAU;4BACV,SAAS;4BACT,WAAW;;;;;;wBAGZ,KAAK,QAAQ,EAAE,4BACd,8OAAC;4BAAI,WAAU;sCAAuG;;;;;;;;;;;;8BAO1H,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCACX,KAAK,KAAK;;;;;;sCAGb,8OAAC;4BAAI,WAAU;;8CAEb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAK,WAAU;sDAA6E;;;;;;sDAG7F,8OAAC;4CAAK,WAAU;sDACb,KAAK,QAAQ,CAAC,QAAQ,CAAC,UAAU,SAAS,KAAK,QAAQ;;;;;;;;;;;;8CAK5D,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAK,WAAU;kDACb,KAAK,QAAQ,EAAE,eAAe,QAAQ,MAAM,UAC3C;;;;;;;;;;;8CAIN,8OAAC;oCAAI,WAAU;8CAA4H;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQvJ"}},
    {"offset": {"line": 382, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/%20aiCoding/MVP/game-deal-frontend/components/cards/SaleDealCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Image from \"next/image\";\nimport { Deal } from \"../../lib/api\";\n\ninterface DealCardProps {\n  deal: Deal;\n  className?: string;\n}\n\nexport default function SaleDealCard({ deal, className = \"\" }: DealCardProps) {\n  const [imgSrc, setImgSrc] = useState(\n    deal.image_url || \"/images/default_thumbnail.png\"\n  );\n\n  useEffect(() => {\n    setImgSrc(deal.image_url || \"/images/default_thumbnail.png\");\n  }, [deal.image_url]);\n\n  const handleImageError = () => {\n    if (deal.platform.toLowerCase().includes(\"epic\")) {\n      setImgSrc(\"/images/epic_logo.jpg\");\n    } else {\n      setImgSrc(\"/images/default_thumbnail.png\");\n    }\n  };\n\n  return (\n    <div\n      className={`block group bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-300 flex flex-col h-full ${className}`}\n    >\n      <a\n        href={deal.url}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"flex flex-col h-full\"\n      >\n        {/* 이미지 영역 */}\n        <div className=\"relative w-full aspect-video bg-gray-200 overflow-hidden\">\n          <Image\n            src={imgSrc}\n            alt={deal.title}\n            fill\n            className=\"object-cover group-hover:scale-105 transition-transform duration-300\"\n            onError={handleImageError}\n            unoptimized\n          />\n          {/* 할인율 뱃지 */}\n          {deal.discount_rate > 0 && (\n            <div className=\"absolute bottom-2 right-2 bg-red-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded shadow-sm\">\n              -{deal.discount_rate}%\n            </div>\n          )}\n        </div>\n\n        {/* 콘텐츠 영역 */}\n        <div className=\"p-3 flex flex-col flex-grow\">\n          <div className=\"flex justify-between items-start mb-1\">\n            <span className=\"px-2 py-0.5 text-[9px] font-bold rounded bg-gray-100 text-gray-600\">\n              {deal.platform}\n            </span>\n          </div>\n\n          <h3 className=\"text-sm font-bold text-gray-900 leading-tight line-clamp-2 mb-1 h-10 group-hover:text-blue-600 transition-colors\">\n            {deal.title}\n          </h3>\n\n          <div className=\"mt-auto\">\n            <div className=\"flex flex-col items-start mb-2\">\n              {deal.regular_price > deal.sale_price && (\n                <span className=\"text-[10px] text-gray-400 line-through\">\n                  ₩{deal.regular_price.toLocaleString()}\n                </span>\n              )}\n              <span className=\"text-blue-600 font-bold text-sm\">\n                ₩{deal.sale_price.toLocaleString()}\n              </span>\n            </div>\n\n            <div className=\"w-full text-center bg-gray-100 group-hover:bg-gray-200 text-gray-800 text-xs font-bold py-1.5 rounded transition-colors\">\n              스토어 이동\n            </div>\n          </div>\n        </div>\n      </a>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWe,SAAS,aAAa,EAAE,IAAI,EAAE,YAAY,EAAE,EAAiB;IAC1E,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAClC,KAAK,SAAS,IAAI;IAGpB,IAAA,kNAAS,EAAC;QACR,UAAU,KAAK,SAAS,IAAI;IAC9B,GAAG;QAAC,KAAK,SAAS;KAAC;IAEnB,MAAM,mBAAmB;QACvB,IAAI,KAAK,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,SAAS;YAChD,UAAU;QACZ,OAAO;YACL,UAAU;QACZ;IACF;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC,kJAAkJ,EAAE,WAAW;kBAE3K,cAAA,8OAAC;YACC,MAAM,KAAK,GAAG;YACd,QAAO;YACP,KAAI;YACJ,WAAU;;8BAGV,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,wIAAK;4BACJ,KAAK;4BACL,KAAK,KAAK,KAAK;4BACf,IAAI;4BACJ,WAAU;4BACV,SAAS;4BACT,WAAW;;;;;;wBAGZ,KAAK,aAAa,GAAG,mBACpB,8OAAC;4BAAI,WAAU;;gCAAwG;gCACnH,KAAK,aAAa;gCAAC;;;;;;;;;;;;;8BAM3B,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAK,WAAU;0CACb,KAAK,QAAQ;;;;;;;;;;;sCAIlB,8OAAC;4BAAG,WAAU;sCACX,KAAK,KAAK;;;;;;sCAGb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;wCACZ,KAAK,aAAa,GAAG,KAAK,UAAU,kBACnC,8OAAC;4CAAK,WAAU;;gDAAyC;gDACrD,KAAK,aAAa,CAAC,cAAc;;;;;;;sDAGvC,8OAAC;4CAAK,WAAU;;gDAAkC;gDAC9C,KAAK,UAAU,CAAC,cAAc;;;;;;;;;;;;;8CAIpC,8OAAC;oCAAI,WAAU;8CAA0H;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQrJ"}},
    {"offset": {"line": 544, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/%20aiCoding/MVP/game-deal-frontend/components/DealCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { Deal } from \"../lib/api\";\nimport FreeDealCard from \"./cards/FreeDealCard\";\nimport SubDealCard from \"./cards/SubDealCard\";\nimport SaleDealCard from \"./cards/SaleDealCard\";\n\ninterface DealCardProps {\n  deal: Deal;\n  className?: string;\n}\n\nexport default function DealCard({ deal, className = \"\" }: DealCardProps) {\n  // 1. 구독(GamePass/Xbox) 여부 확인\n  const isGamePass =\n    deal.deal_type === \"GamePass\" ||\n    deal.platform.includes(\"Xbox\") ||\n    deal.xboxMeta !== undefined;\n\n  if (isGamePass) {\n    return <SubDealCard deal={deal} className={className} />;\n  }\n\n  // 2. 무료 배포 게임 여부 확인 (GamePass 제외)\n  const isFreeGame =\n    deal.deal_type === \"Free\" ||\n    deal.sale_price === 0 ||\n    deal.epicMeta?.is_free_to_keep === true;\n\n  if (isFreeGame) {\n    return <FreeDealCard deal={deal} className={className} />;\n  }\n\n  // 3. 그 외는 일반 할인/판매 게임\n  return <SaleDealCard deal={deal} className={className} />;\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AALA;;;;;AAYe,SAAS,SAAS,EAAE,IAAI,EAAE,YAAY,EAAE,EAAiB;IACtE,6BAA6B;IAC7B,MAAM,aACJ,KAAK,SAAS,KAAK,cACnB,KAAK,QAAQ,CAAC,QAAQ,CAAC,WACvB,KAAK,QAAQ,KAAK;IAEpB,IAAI,YAAY;QACd,qBAAO,8OAAC,8IAAW;YAAC,MAAM;YAAM,WAAW;;;;;;IAC7C;IAEA,kCAAkC;IAClC,MAAM,aACJ,KAAK,SAAS,KAAK,UACnB,KAAK,UAAU,KAAK,KACpB,KAAK,QAAQ,EAAE,oBAAoB;IAErC,IAAI,YAAY;QACd,qBAAO,8OAAC,+IAAY;YAAC,MAAM;YAAM,WAAW;;;;;;IAC9C;IAEA,sBAAsB;IACtB,qBAAO,8OAAC,+IAAY;QAAC,MAAM;QAAM,WAAW;;;;;;AAC9C"}},
    {"offset": {"line": 596, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/%20aiCoding/MVP/game-deal-frontend/components/DealsPage.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useMemo } from \"react\";\nimport { fetchDeals, Deal } from \"../lib/api\";\nimport DealCard from \"./DealCard\";\n\ninterface DealsPageProps {\n  title: string;\n  category: \"free\" | \"sale\" | \"sub\";\n}\n\nexport default function DealsPage({ title, category }: DealsPageProps) {\n  const [deals, setDeals] = useState<Deal[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [sortOrder, setSortOrder] = useState<\"az\" | \"newest\">(\"az\");\n\n  useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      try {\n        // 카테고리에 맞는 데이터만 API에 요청 (limit을 넉넉하게 설정)\n        const data = await fetchDeals({ type: category, limit: 1000 });\n        setDeals(data);\n      } catch (error) {\n        console.error(\"상세 페이지 데이터 로드 실패\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadData();\n  }, [category]);\n\n  // 클라이언트 사이드 검색 및 정렬 (받아온 데이터 내에서 수행)\n  const filteredDeals = useMemo(() => {\n    let result = deals.filter((deal) =>\n      deal.title.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n    if (sortOrder === \"az\") {\n      result.sort((a, b) => a.title.localeCompare(b.title));\n    }\n    // 필요하다면 'newest' 정렬 로직 추가 가능\n\n    return result;\n  }, [deals, searchTerm, sortOrder]);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <main className=\"max-w-7xl mx-auto px-4 md:px-8 py-8\">\n        {/* 헤더 영역 */}\n        <div className=\"flex flex-col md:flex-row justify-between items-end mb-8 gap-4\">\n          <div>\n            <h1 className=\"text-3xl font-extrabold text-gray-900 mb-2\">\n              {title}\n            </h1>\n            <p className=\"text-gray-500 text-sm\">\n              총{\" \"}\n              <span className=\"font-bold text-gray-900\">\n                {filteredDeals.length}\n              </span>\n              개의 게임을 찾았습니다.\n            </p>\n          </div>\n\n          <div className=\"flex flex-col sm:flex-row gap-3 w-full md:w-auto\">\n            <input\n              type=\"text\"\n              placeholder=\"게임 제목 검색...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"flex-1 md:w-64 px-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-900 outline-none\"\n            />\n            <select\n              value={sortOrder}\n              onChange={(e: any) => setSortOrder(e.target.value)}\n              className=\"px-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-900 outline-none bg-white\"\n            >\n              <option value=\"az\">가나다순 (A-Z)</option>\n            </select>\n          </div>\n        </div>\n\n        {/* 카드 그리드 */}\n        {loading ? (\n          <div className=\"flex justify-center py-32\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900\"></div>\n          </div>\n        ) : filteredDeals.length === 0 ? (\n          <div className=\"text-center py-32 border-2 border-dashed border-gray-200 rounded-xl bg-gray-50\">\n            <p className=\"text-gray-500\">조건에 맞는 게임이 없습니다.</p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6\">\n            {filteredDeals.map((deal) => (\n              <DealCard key={deal.id} deal={deal} />\n            ))}\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAWe,SAAS,UAAU,EAAE,KAAK,EAAE,QAAQ,EAAkB;IACnE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAkB;IAE5D,IAAA,kNAAS,EAAC;QACR,MAAM,WAAW;YACf,WAAW;YACX,IAAI;gBACF,yCAAyC;gBACzC,MAAM,OAAO,MAAM,IAAA,wHAAU,EAAC;oBAAE,MAAM;oBAAU,OAAO;gBAAK;gBAC5D,SAAS;YACX,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,oBAAoB;YACpC,SAAU;gBACR,WAAW;YACb;QACF;QACA;IACF,GAAG;QAAC;KAAS;IAEb,qCAAqC;IACrC,MAAM,gBAAgB,IAAA,gNAAO,EAAC;QAC5B,IAAI,SAAS,MAAM,MAAM,CAAC,CAAC,OACzB,KAAK,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW;QAG1D,IAAI,cAAc,MAAM;YACtB,OAAO,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,CAAC,aAAa,CAAC,EAAE,KAAK;QACrD;QACA,6BAA6B;QAE7B,OAAO;IACT,GAAG;QAAC;QAAO;QAAY;KAAU;IAEjC,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAK,WAAU;;8BAEd,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CACX;;;;;;8CAEH,8OAAC;oCAAE,WAAU;;wCAAwB;wCACjC;sDACF,8OAAC;4CAAK,WAAU;sDACb,cAAc,MAAM;;;;;;wCAChB;;;;;;;;;;;;;sCAKX,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,MAAK;oCACL,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;oCAC7C,WAAU;;;;;;8CAEZ,8OAAC;oCACC,OAAO;oCACP,UAAU,CAAC,IAAW,aAAa,EAAE,MAAM,CAAC,KAAK;oCACjD,WAAU;8CAEV,cAAA,8OAAC;wCAAO,OAAM;kDAAK;;;;;;;;;;;;;;;;;;;;;;;gBAMxB,wBACC,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;;;;;;;;;2BAEf,cAAc,MAAM,KAAK,kBAC3B,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;yCAG/B,8OAAC;oBAAI,WAAU;8BACZ,cAAc,GAAG,CAAC,CAAC,qBAClB,8OAAC,kIAAQ;4BAAe,MAAM;2BAAf,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;AAOpC"}}]
}